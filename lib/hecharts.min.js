/*!
 * h-echarts v0.0.1
 * @license (c) 2018-2019 Hyhello
 * Released under the MIT License.
 */
import e from 'lodash';
import t from 'echarts';
import a from 'resize-observer-polyfill';
var n = function(e) {
		console.error('[h-echarts warn]\uff1a'.concat(e));
	},
	i = [
		{ label: '\u4e2d\u56fd', value: 'china' },
		{ label: '\u4e16\u754c', value: 'world' },
		{ label: '\u5b89\u5fbd', value: 'anhui' },
		{ label: '\u6fb3\u95e8', value: 'aomen' },
		{ label: '\u5317\u4eac', value: 'beijing' },
		{ label: '\u91cd\u5e86', value: 'chongqing' },
		{ label: '\u798f\u5efa', value: 'fujian' },
		{ label: '\u7518\u8083', value: 'gansu' },
		{ label: '\u5e7f\u4e1c', value: 'guangdong' },
		{ label: '\u5e7f\u897f', value: 'guangxi' },
		{ label: '\u8d35\u5dde', value: 'guizhou' },
		{ label: '\u6d77\u5357', value: 'hainan' },
		{ label: '\u6cb3\u5317', value: 'hebei' },
		{ label: '\u9ed1\u9f99\u6c5f', value: 'heilongjiang' },
		{ label: '\u6cb3\u5357', value: 'henan' },
		{ label: '\u6e56\u5317', value: 'hubei' },
		{ label: '\u6e56\u5357', value: 'hunan' },
		{ label: '\u6c5f\u82cf', value: 'jiangsu' },
		{ label: '\u6c5f\u897f', value: 'jiangxi' },
		{ label: '\u5409\u6797', value: 'jilin' },
		{ label: '\u8fbd\u5b81', value: 'liaoning' },
		{ label: '\u5185\u8499\u53e4', value: 'neimenggu' },
		{ label: '\u5b81\u590f', value: 'ningxia' },
		{ label: '\u9752\u6d77', value: 'qinghai' },
		{ label: '\u5c71\u4e1c', value: 'shandong' },
		{ label: '\u4e0a\u6d77', value: 'shanghai' },
		{ label: '\u5c71\u897f', value: 'shanxi' },
		{ label: '\u9655\u897f', value: 'shanxi1' },
		{ label: '\u56db\u5ddd', value: 'sichuan' },
		{ label: '\u53f0\u6e7e', value: 'taiwan' },
		{ label: '\u5929\u6d25', value: 'tianjin' },
		{ label: '\u9999\u6e2f', value: 'xianggang' },
		{ label: '\u65b0\u7586', value: 'xinjiang' },
		{ label: '\u897f\u85cf', value: 'xizang' },
		{ label: '\u4e91\u5357', value: 'yunnan' },
		{ label: '\u6d59\u6c5f', value: 'zhejiang' }
	],
	s = 'undefined' == typeof window,
	r = function(e) {
		var t = !0,
			a = !1,
			n = void 0;
		try {
			for (
				var i, s = e[Symbol.iterator]();
				!(t = (i = s.next()).done);
				t = !0
			) {
				var r = i.value.target.__resizeListeners__ || [];
				r.length &&
					r.forEach(function(e) {
						e();
					});
			}
		} catch (e) {
			(a = !0), (n = e);
		} finally {
			try {
				t || null == s.return || s.return();
			} finally {
				if (a) throw n;
			}
		}
	},
	l = [
		'\u5e02',
		'\u76df',
		'\u81ea\u6cbb\u5dde',
		'\u53bf',
		'\u533a',
		'\u5176\u4ed6'
	],
	o = function(e, t) {
		return require('echarts/map/json/'
			.concat(t ? 'province/' : '')
			.concat(e, '.json'));
	},
	c = function(e) {
		try {
			return i.filter(function(t) {
				return t.label === e;
			})[0].value;
		} catch (t) {
			return (function(e) {
				return e.replace(
					new RegExp('(.*)(?<!'.concat(l.join('|'), ')$')),
					'$1\u5e02'
				);
			})(e);
		}
	},
	u = {
		name: 'HEcharts',
		components: {},
		props: {
			options: {
				type: Object,
				default: function() {
					return {};
				}
			},
			theme: {
				type: Object,
				default: function() {
					return {};
				}
			},
			map: { type: [String, Array], default: '' },
			type: { type: String, required: !0 },
			emptyType: { type: [String, Number], default: 3 },
			emptyColor: { type: String, default: 'rgba(0,0,0,0.25)' },
			emptyText: { type: String, default: '\u6682\u65e0\u6570\u636e' }
		},
		data: function() {
			return { isEmpty: !1 };
		},
		watch: {
			options: {
				deep: !0,
				handler: function(e) {
					this.setOption(e);
				}
			},
			map: {
				deep: !0,
				handler: function() {
					this.formatMap(), this.setOption(this.options);
				}
			},
			theme: {
				deep: !0,
				handler: function() {
					this.setTheme();
				}
			}
		},
		mounted: function() {
			this.map && this.formatMap(), this._initCharts();
		},
		beforeDestroy: function() {
			this.destroyMap(), this.$el.remove();
		},
		methods: {
			_initCharts: function() {
				var n = this;
				this.$nextTick(function() {
					var i,
						l,
						o = n.$refs.echarts;
					(n._echarts = t.init(o, n.theme)),
						n.setOption(n.options),
						n._echarts.on('click', n.mapClick),
						(n.__outSideResize__ = e.debounce(n.resize, 100)),
						(i = o),
						(l = n.__outSideResize__),
						s ||
							(i.__resizeListeners__ ||
								((i.__resizeListeners__ = []),
								(i.__ro__ = new a(r)),
								i.__ro__.observe(i)),
							i.__resizeListeners__.push(l));
				});
			},
			setOption: function(t) {
				this._echarts &&
					((this.isEmpty = e.isEmpty(t)),
					this._echarts.clear(),
					this._echarts.setOption(t, !0));
			},
			formatMap: function() {
				var e = this;
				(Array.isArray(this.map) ? this.map : [this.map]).forEach(
					function(t) {
						var a = '\u4e2d\u56fd' === t ? c(t) : t;
						e.registerMap(a, c(t));
					}
				);
			},
			mapClick: function(e) {
				this.$emit('click', e);
			},
			resize: function() {
				this._echarts && (this._echarts.resize(), this.$emit('resize'));
			},
			destroyMap: function() {
				var e, t;
				this._echarts &&
					((e = this.$refs.echarts),
					(t = this.__outSideResize__),
					e &&
						e.__resizeListeners__ &&
						(e.__resizeListeners__.splice(
							e.__resizeListeners__.indexOf(t),
							1
						),
						e.__resizeListeners__.length || e.__ro__.disconnect()),
					this._echarts.off('click', this.mapClick),
					(this.__outSideResize__ = null),
					this._echarts.clear(),
					this._echarts.dispose(),
					(this._echarts = null));
			},
			setTheme: function() {
				this.destroyMap(), this._initCharts();
			},
			registerMap: function(e, a) {
				if (t)
					if (t.registerMap) {
						if (!a)
							return n(
								'map matched fail '.concat(
									e,
									' not matched map'
								)
							);
						if (
							((s = a),
							i.filter(function(e) {
								return e.value === s;
							}).length)
						)
							try {
								a = o(a);
							} catch (e) {
								a = o(a, !0);
							}
						else a = require('@/map/json/'.concat(a, '.json'));
						var s;
						t.registerMap(e, a);
					} else n('is not loaded');
				else n('is not Loaded');
			}
		}
	};
var h = function(e, t, a, n, i, s, r, l, o, c) {
		'boolean' != typeof r && ((o = l), (l = r), (r = !1));
		var u,
			h = 'function' == typeof a ? a.options : a;
		if (
			(e &&
				e.render &&
				((h.render = e.render),
				(h.staticRenderFns = e.staticRenderFns),
				(h._compiled = !0),
				i && (h.functional = !0)),
			n && (h._scopeId = n),
			s
				? ((u = function(e) {
						(e =
							e ||
							(this.$vnode && this.$vnode.ssrContext) ||
							(this.parent &&
								this.parent.$vnode &&
								this.parent.$vnode.ssrContext)) ||
							'undefined' == typeof __VUE_SSR_CONTEXT__ ||
							(e = __VUE_SSR_CONTEXT__),
							t && t.call(this, o(e)),
							e &&
								e._registeredComponents &&
								e._registeredComponents.add(s);
				  }),
				  (h._ssrRegister = u))
				: t &&
				  (u = r
						? function() {
								t.call(this, c(this.$root.$options.shadowRoot));
						  }
						: function(e) {
								t.call(this, l(e));
						  }),
			u)
		)
			if (h.functional) {
				var d = h.render;
				h.render = function(e, t) {
					return u.call(t), d(e, t);
				};
			} else {
				var p = h.beforeCreate;
				h.beforeCreate = p ? [].concat(p, u) : [u];
			}
		return a;
	},
	d =
		'undefined' != typeof navigator &&
		/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());
var p = document.head || document.getElementsByTagName('head')[0],
	f = {};
var _ = h(
	{
		render: function() {
			var e = this.$createElement,
				t = this._self._c || e;
			return t(
				'div',
				{ staticClass: 'echarts-panel', attrs: { role: this.type } },
				[
					t('div', { ref: 'echarts', staticClass: 'echarts-main' }),
					this._v(' '),
					t('transition', { attrs: { name: 'fade' } })
				],
				1
			);
		},
		staticRenderFns: []
	},
	function(e) {
		e &&
			e('data-v-3b6f70ec_0', {
				source:
					'.echarts-panel[data-v-3b6f70ec]{width:100%;height:100%;user-select:none;position:relative}.echarts-panel .echarts-main[data-v-3b6f70ec]{width:100%;height:100%}.echarts-panel .empty[data-v-3b6f70ec]{position:absolute;top:40%;left:50%;margin:0;z-index:10;backface-visibility:hidden;transform:translate(-50%,-50%)}',
				map: void 0,
				media: void 0
			});
	},
	u,
	'data-v-3b6f70ec',
	!1,
	void 0,
	function(e) {
		return function(e, t) {
			return (function(e, t) {
				var a = d ? t.media || 'default' : e,
					n = f[a] || (f[a] = { ids: new Set(), styles: [] });
				if (!n.ids.has(e)) {
					n.ids.add(e);
					var i = t.source;
					if (
						(t.map &&
							((i +=
								'\n/*# sourceURL=' + t.map.sources[0] + ' */'),
							(i +=
								'\n/*# sourceMappingURL=data:application/json;base64,' +
								btoa(
									unescape(
										encodeURIComponent(
											JSON.stringify(t.map)
										)
									)
								) +
								' */')),
						n.element ||
							((n.element = document.createElement('style')),
							(n.element.type = 'text/css'),
							t.media && n.element.setAttribute('media', t.media),
							p.appendChild(n.element)),
						'styleSheet' in n.element)
					)
						n.styles.push(i),
							(n.element.styleSheet.cssText = n.styles
								.filter(Boolean)
								.join('\n'));
					else {
						var s = n.ids.size - 1,
							r = document.createTextNode(i),
							l = n.element.childNodes;
						l[s] && n.element.removeChild(l[s]),
							l.length
								? n.element.insertBefore(r, l[s])
								: n.element.appendChild(r);
					}
				}
			})(e, t);
		};
	},
	void 0
);
export default function e(t) {
	e.installed || ((e.installed = !0), t.component(_.name, _));
}
//# sourceMappingURL=hecharts.min.js.map
